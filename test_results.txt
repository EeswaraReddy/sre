python : 2026-02-16 16:33:54,426 - __main__ - INFO - 
Running orchestrator for MWAA DAG Failure
At line:1 char:1
+ python test_orchestrator.py 2>&1 | Out-File -Encoding 
utf8 test_resul ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (2026-02-16 16: 
   3...WAA DAG Failure:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
2026-02-16 16:33:54,426 - agents.orchestrator - INFO - 
Orchestrator initialized with BedrockModel
2026-02-16 16:33:54,428 - agents.orchestrator - INFO - === 
Starting orchestration for incident: INC001 ===
2026-02-16 16:33:54,428 - agents.orchestrator - INFO - Step 
1: Classifying incident
2026-02-16 16:33:54,433 - strands.telemetry.metrics - INFO 
- Creating Strands MetricsClient
2026-02-16 16:33:54,438 - agents.intent_classifier - ERROR 
- Intent classification error: Unable to locate credentials
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - 
Classification: unknown (confidence: 0.0)
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - Step 
2: Evaluating classification
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - 
Classification evaluation: low confidence
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - Step 
3: Investigating incident
2026-02-16 16:33:54,438 - agents.investigator - WARNING - 
No MCP tools provided, using mock investigation
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - 
Investigation: Unable to determine - mock mode
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - Step 
4: Evaluating investigation
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - 
Investigation evaluation: action_approved=False
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - Step 
5: Skipping action (not approved by evaluation)
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - Step 
6: Making policy decision
2026-02-16 16:33:54,438 - agents.policy_engine - INFO - 
Policy decision: human_review (score: 0.07)
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - 
Decision: human_review (score: 0.075)
2026-02-16 16:33:54,438 - agents.orchestrator - INFO - === 
Orchestration complete for INC001 in 0.01s ===
2026-02-16 16:33:54,438 - __main__ - INFO - Running 
orchestrator for Glue Job Failure
2026-02-16 16:33:54,439 - agents.orchestrator - INFO - 
Orchestrator initialized with BedrockModel
2026-02-16 16:33:54,439 - agents.orchestrator - INFO - === 
Starting orchestration for incident: INC002 ===
2026-02-16 16:33:54,439 - agents.orchestrator - INFO - Step 
1: Classifying incident
2026-02-16 16:33:54,447 - agents.intent_classifier - ERROR 
- Intent classification error: Unable to locate credentials
2026-02-16 16:33:54,447 - agents.orchestrator - INFO - 
Classification: unknown (confidence: 0.0)
2026-02-16 16:33:54,447 - agents.orchestrator - INFO - Step 
2: Evaluating classification
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - 
Classification evaluation: low confidence
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - Step 
3: Investigating incident
2026-02-16 16:33:54,449 - agents.investigator - WARNING - 
No MCP tools provided, using mock investigation
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - 
Investigation: Unable to determine - mock mode
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - Step 
4: Evaluating investigation
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - 
Investigation evaluation: action_approved=False
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - Step 
5: Skipping action (not approved by evaluation)
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - Step 
6: Making policy decision
2026-02-16 16:33:54,449 - agents.policy_engine - INFO - 
Policy decision: human_review (score: 0.07)
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - 
Decision: human_review (score: 0.075)
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - === 
Orchestration complete for INC002 in 0.01s ===
2026-02-16 16:33:54,449 - __main__ - INFO - Running 
orchestrator for Athena Failure
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - 
Orchestrator initialized with BedrockModel
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - === 
Starting orchestration for incident: INC003 ===
2026-02-16 16:33:54,449 - agents.orchestrator - INFO - Step 
1: Classifying incident
2026-02-16 16:33:54,455 - agents.intent_classifier - ERROR 
- Intent classification error: Unable to locate credentials
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - 
Classification: unknown (confidence: 0.0)
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - Step 
2: Evaluating classification
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - 
Classification evaluation: low confidence
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - Step 
3: Investigating incident
2026-02-16 16:33:54,455 - agents.investigator - WARNING - 
No MCP tools provided, using mock investigation
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - 
Investigation: Unable to determine - mock mode
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - Step 
4: Evaluating investigation
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - 
Investigation evaluation: action_approved=False
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - Step 
5: Skipping action (not approved by evaluation)
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - Step 
6: Making policy decision
2026-02-16 16:33:54,455 - agents.policy_engine - INFO - 
Policy decision: human_review (score: 0.07)
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - 
Decision: human_review (score: 0.075)
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - === 
Orchestration complete for INC003 in 0.01s ===
2026-02-16 16:33:54,455 - __main__ - INFO - Running 
orchestrator for Data Missing
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - 
Orchestrator initialized with BedrockModel
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - === 
Starting orchestration for incident: INC004 ===
2026-02-16 16:33:54,455 - agents.orchestrator - INFO - Step 
1: Classifying incident
2026-02-16 16:33:54,471 - agents.intent_classifier - ERROR 
- Intent classification error: Unable to locate credentials
2026-02-16 16:33:54,471 - agents.orchestrator - INFO - 
Classification: unknown (confidence: 0.0)
2026-02-16 16:33:54,471 - agents.orchestrator - INFO - Step 
2: Evaluating classification
2026-02-16 16:33:54,471 - agents.orchestrator - INFO - 
Classification evaluation: low confidence
2026-02-16 16:33:54,471 - agents.orchestrator - INFO - Step 
3: Investigating incident
2026-02-16 16:33:54,472 - agents.investigator - WARNING - 
No MCP tools provided, using mock investigation
2026-02-16 16:33:54,472 - agents.orchestrator - INFO - 
Investigation: Unable to determine - mock mode
2026-02-16 16:33:54,472 - agents.orchestrator - INFO - Step 
4: Evaluating investigation
2026-02-16 16:33:54,472 - agents.orchestrator - INFO - 
Investigation evaluation: action_approved=False
2026-02-16 16:33:54,472 - agents.orchestrator - INFO - Step 
5: Skipping action (not approved by evaluation)
2026-02-16 16:33:54,472 - agents.orchestrator - INFO - Step 
6: Making policy decision
2026-02-16 16:33:54,472 - agents.policy_engine - INFO - 
Policy decision: human_review (score: 0.07)
2026-02-16 16:33:54,473 - agents.orchestrator - INFO - 
Decision: human_review (score: 0.075)
2026-02-16 16:33:54,473 - agents.orchestrator - INFO - === 
Orchestration complete for INC004 in 0.02s ===
2026-02-16 16:33:54,473 - __main__ - INFO - Running 
orchestrator for Historical Data Missing
2026-02-16 16:33:54,473 - agents.orchestrator - INFO - 
Orchestrator initialized with BedrockModel
2026-02-16 16:33:54,473 - agents.orchestrator - INFO - === 
Starting orchestration for incident: INC005 ===
2026-02-16 16:33:54,473 - agents.orchestrator - INFO - Step 
1: Classifying incident
2026-02-16 16:33:54,485 - agents.intent_classifier - ERROR 
- Intent classification error: Unable to locate credentials
2026-02-16 16:33:54,485 - agents.orchestrator - INFO - 
Classification: unknown (confidence: 0.0)
2026-02-16 16:33:54,485 - agents.orchestrator - INFO - Step 
2: Evaluating classification
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - 
Classification evaluation: low confidence
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - Step 
3: Investigating incident
2026-02-16 16:33:54,486 - agents.investigator - WARNING - 
No MCP tools provided, using mock investigation
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - 
Investigation: Unable to determine - mock mode
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - Step 
4: Evaluating investigation
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - 
Investigation evaluation: action_approved=False
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - Step 
5: Skipping action (not approved by evaluation)
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - Step 
6: Making policy decision
2026-02-16 16:33:54,486 - agents.policy_engine - INFO - 
Policy decision: human_review (score: 0.07)
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - 
Decision: human_review (score: 0.075)
2026-02-16 16:33:54,486 - agents.orchestrator - INFO - === 
Orchestration complete for INC005 in 0.01s ===
====================================================================================================
ORCHESTRATOR AGENT TEST
====================================================================================================

====================================================================================================
TEST: MWAA DAG Failure
====================================================================================================

Incident: dagstatus failure Alarm for dlr_grp ... MWAA
Sys ID: INC001

==================================================
ORCHESTRATION RESULT
==================================================
{
  "incident": {
    "sys_id": "INC001",
    "short_description": "dagstatus failure Alarm for dlr_grp ... MWAA",
    "category": "Data Pipeline"
  },
  "classification": {
    "intent": "unknown",
    "confidence": 0.0,
    "reasoning": "Classification error: Unable to locate credentials"
  },
  "investigation": {
    "root_cause": "Unable to determine - mock mode",
    "evidence_score": 0.3,
    "findings_count": 0,
    "key_findings": []
  },
  "remediation": {
    "action_taken": "none",
    "action_success": true,
    "action_details": {
      "reason": "Action not approved by evaluation"
    }
  },
  "decision": {
    "outcome": "human_review",
    "score": 0.075,
    "reasoning": "Very low confidence (0.07), manual review required",
    "override_applied": false
  },
  "timestamp": "2026-02-16T11:03:54.428292",
  "duration_seconds": 0.00993,
  "status": "success",
  "evaluation": {
    "classification": {
      "approved": true,
      "confidence_level": "low",
      "reasoning": "Low confidence (0.0) classification, will require human review"
    },
    "investigation": {
      "approved": true,
      "action_approved": false,
      "reasoning": "Weak evidence (0.3), skip automated action"
    }
  }
}

====================================================================================================
TEST: Glue Job Failure
====================================================================================================

Incident: Job SPENDING_POTS... has failed Glue ETL failure
Sys ID: INC002

==================================================
ORCHESTRATION RESULT
==================================================
{
  "incident": {
    "sys_id": "INC002",
    "short_description": "Job SPENDING_POTS... has failed Glue ETL failure",
    "category": "Data Pipeline"
  },
  "classification": {
    "intent": "unknown",
    "confidence": 0.0,
    "reasoning": "Classification error: Unable to locate credentials"
  },
  "investigation": {
    "root_cause": "Unable to determine - mock mode",
    "evidence_score": 0.3,
    "findings_count": 0,
    "key_findings": []
  },
  "remediation": {
    "action_taken": "none",
    "action_success": true,
    "action_details": {
      "reason": "Action not approved by evaluation"
    }
  },
  "decision": {
    "outcome": "human_review",
    "score": 0.075,
    "reasoning": "Very low confidence (0.07), manual review required",
    "override_applied": false
  },
  "timestamp": "2026-02-16T11:03:54.439908",
  "duration_seconds": 0.00942,
  "status": "success",
  "evaluation": {
    "classification": {
      "approved": true,
      "confidence_level": "low",
      "reasoning": "Low confidence (0.0) classification, will require human review"
    },
    "investigation": {
      "approved": true,
      "action_approved": false,
      "reasoning": "Weak evidence (0.3), skip automated action"
    }
  }
}

====================================================================================================
TEST: Athena Failure
====================================================================================================

Incident: Athena AWS failure Service: Athena
Sys ID: INC003

==================================================
ORCHESTRATION RESULT
==================================================
{
  "incident": {
    "sys_id": "INC003",
    "short_description": "Athena AWS failure Service: Athena",
    "category": "Data Query"
  },
  "classification": {
    "intent": "unknown",
    "confidence": 0.0,
    "reasoning": "Classification error: Unable to locate credentials"
  },
Traceback (most recent call last):
  File "E:\Antigravity\sreagent\test_orchestrator.py", line 
161, in <module>
  "investigation": {
    "root_cause": "Unable to determine - mock mode",
    "evidence_score": 0.3,
    "findings_count": 0,
    "key_findings": []
  },
  "remediation": {
    "action_taken": "none",
    "action_success": true,
    "action_details": {
      "reason": "Action not approved by evaluation"
    }
  },
  "decision": {
    "outcome": "human_review",
    "score": 0.075,
    "reasoning": "Very low confidence (0.07), manual review required",
    "override_applied": false
  },
  "timestamp": "2026-02-16T11:03:54.449328",
  "duration_seconds": 0.005689,
  "status": "success",
  "evaluation": {
    "classification": {
      "approved": true,
      "confidence_level": "low",
      "reasoning": "Low confidence (0.0) classification, will require human review"
    },
    "investigation": {
      "approved": true,
      "action_approved": false,
      "reasoning": "Weak evidence (0.3), skip automated action"
    }
  }
}

====================================================================================================
TEST: Data Missing
====================================================================================================

Incident: Data is not available..., Data missing in DLR
Sys ID: INC004

==================================================
ORCHESTRATION RESULT
==================================================
{
  "incident": {
    "sys_id": "INC004",
    "short_description": "Data is not available..., Data missing in DLR",
    "category": "Data Quality"
  },
  "classification": {
    "intent": "unknown",
    "confidence": 0.0,
    "reasoning": "Classification error: Unable to locate credentials"
  },
  "investigation": {
    "root_cause": "Unable to determine - mock mode",
    "evidence_score": 0.3,
    "findings_count": 0,
    "key_findings": []
  },
  "remediation": {
    "action_taken": "none",
    "action_success": true,
    "action_details": {
      "reason": "Action not approved by evaluation"
    }
  },
  "decision": {
    "outcome": "human_review",
    "score": 0.075,
    "reasoning": "Very low confidence (0.07), manual review required",
    "override_applied": false
  },
  "timestamp": "2026-02-16T11:03:54.455017",
  "duration_seconds": 0.018321,
  "status": "success",
  "evaluation": {
    "classification": {
      "approved": true,
      "confidence_level": "low",
      "reasoning": "Low confidence (0.0) classification, will require human review"
    },
    "investigation": {
      "approved": true,
      "action_approved": false,
      "reasoning": "Weak evidence (0.3), skip automated action"
    }
  }
}

====================================================================================================
TEST: Historical Data Missing
====================================================================================================

Incident: Data missing ... historical load
Sys ID: INC005

==================================================
ORCHESTRATION RESULT
==================================================
{
  "incident": {
    "sys_id": "INC005",
    "short_description": "Data missing ... historical load",
    "category": "Data Quality"
  },
  "classification": {
    "intent": "unknown",
    "confidence": 0.0,
    "reasoning": "Classification error: Unable to locate credentials"
  },
  "investigation": {
    "root_cause": "Unable to determine - mock mode",
    "evidence_score": 0.3,
    "findings_count": 0,
    "key_findings": []
  },
  "remediation": {
    "action_taken": "none",
    "action_success": true,
    "action_details": {
      "reason": "Action not approved by evaluation"
    }
  },
  "decision": {
    "outcome": "human_review",
    "score": 0.075,
    "reasoning": "Very low confidence (0.07), manual review required",
    "override_applied": false
  },
  "timestamp": "2026-02-16T11:03:54.473338",
  "duration_seconds": 0.013284,
  "status": "success",
  "evaluation": {
    "classification": {
      "approved": true,
      "confidence_level": "low",
      "reasoning": "Low confidence (0.0) classification, will require human review"
    },
    "investigation": {
      "approved": true,
      "action_approved": false,
      "reasoning": "Weak evidence (0.3), skip automated action"
    }
  }
}


====================================================================================================
TEST SUMMARY
====================================================================================================

Total Tests: 5
Passed: 5
Failed: 0
    test_orchestrator()
  File "E:\Antigravity\sreagent\test_orchestrator.py", line 
151, in test_orchestrator
    print(f"  {status} - {result['test_name']} 
({result['sys_id']})")
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python3
10\lib\encodings\cp1252.py", line 19, in encode
    return 
codecs.charmap_encode(input,self.errors,encoding_table)[0]
UnicodeEncodeError: 'charmap' codec can't encode character 
'\u2713' in position 2: character maps to <undefined>
